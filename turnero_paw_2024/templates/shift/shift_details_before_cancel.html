{% extends 'base.html' %}
{% load static %}
{% block title %}Detalles del Turno{% endblock title %}
{% block links %}
<link rel="preload" href="{% static 'css/reset.css' %}" 
            as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{% static 'css/base.css' %}" 
            as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{% static 'css/header.css' %}" 
            as="style" onload="this.onload=null;this.rel='stylesheet'">  
<link rel="preload" href="{% static 'css/shift/shift_details_before_cancel.css' %}" 
            as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{% static 'css/shift/modal_cancel_shift.css' %}" 
            as="style" onload="this.onload=null;this.rel='stylesheet'">
{% endblock links %}
{% block content %}
    {% include 'includes/header.html' %}
    {% include 'includes/modal_cancel_shift.html' %}
    <section id="shift-details-container">
        <h2>Detalles de su Turno</h2>
        {% if shift.id_state.short_description != 'cancelado' and shift.id_state.short_description != 'cumplido'%}
            <h3>{{ shift.id_person }} su turno se encuentra {{ shift.id_state.short_description }}.</h3>
            <span class="shift-details-container__span" id="shift-details-container__span">
                <p>
                    <strong>
                        DÃ­a:
                    </strong> 
                    {{ shift.date }}
                </p>
                <p>
                    <strong>
                        Horario:
                    </strong> 
                    {{ shift.hour }}
                </p>
                <form id="cancel-shift-form" 
                        class="shift-details-container__form" 
                        action="{% url 'user-cancel-shift' shift.id %}" 
                        method="POST">
                    {% csrf_token %}
                    <input type="submit" value="Cancelar Turno">
                </form>
            </span>
        {%else%}
            <h3>Este turno ya fue cancelado previamente</h3>
        {% endif %}
    </section>
    
    {% include 'includes/footer.html' %}
    <script type="module" src="{% static 'js/shift/shift_details_before_cancel.js' %}" ></script>
{% endblock content %}