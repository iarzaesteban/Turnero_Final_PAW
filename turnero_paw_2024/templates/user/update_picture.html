{% extends 'base.html' %}
{% load static %}
{% block title %}Cambiar Foto {% endblock title %}
{% block links %}
<link rel="preload" href="{% static 'css/reset.css' %}" 
            as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{% static 'css/base.css' %}" 
            as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{% static 'css/header.css' %}" 
            as="style" onload="this.onload=null;this.rel='stylesheet'"> 
<link rel="preload" href="{% static 'css/user/update_picture.css' %}" 
            as="style" onload="this.onload=null;this.rel='stylesheet'">
{% endblock links %}
{% block content %}
    {% include 'includes/header.html' with show_nav=True show_avatar_user=True %}
    
    <section id="updates-picture-user-container">

        <h2>Cambiar Foto</h2>
        
        <p class="updates-picture-user-container__user"> 
            <strong>
                Usuario:
            </strong> 
                {{ user.username }}
        </p>

        {% if messages %}
            <section id="messages">
                {% for message in messages %}
                    <p class="message {% if message.tags %} {{ message.tags }} {% endif %}">
                        {{ message }}
                    </p>
                {% endfor %}
            </section>
        {% endif %}
        <span class="updates-picture-user-container__picture">
            <img id="current-user-avatar" 
                src="{% static 'assets/user_avatar.png' %}" alt="User Avatar">
        </span>
        <form id="form-updates-picture-user" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <input type="file" id="id_picture" name="picture" 
                    accept=".jpg, .jpeg, .png" onchange="previewImage(event)">
            <img 
                id="image-preview" 
                src="#" alt="Preview" >
            <button type="submit">Actualizar foto</button>
        </form>
    </section>
    {% include 'includes/footer.html' %}
    <script src="{% static 'js/preview-picture.js' %}"></script>
    <script type="module" src="{% static 'js/menu.js' %}"></script>
    <script type="module" src="{% static 'js/timerRemover.js' %}" ></script>
{% endblock content %}